import{r as o,R as m,c as x,j as e,d as g,p as h,b}from"./index-C2qyRJXm.js";import{a as f}from"./axios-B4uVmeYG.js";function w(){const[r,s]=o.useState([]),t=m(x);let l;function a(c){c.preventDefault(),clearInterval(l);const n=document.getElementById("aad").value,i=document.getElementById("type").value,u=sessionStorage.getItem("token");if(n===""||n===null||n===void 0||n===" "){s([]);return}l=setTimeout(()=>{f.post(t+"/search",{key:n,type:i},{headers:{Authorization:u}}).then(d=>{s(d.data.resp)}).catch(d=>{s([]),console.error("There was an error searching!",d)})},1e3)}return e.jsxs("div",{className:"min-h-screen h-auto bg-sky-700 grow",children:[e.jsx("h1",{className:"p-8 font-bold text-4xl text-white",children:"Search People"}),e.jsx("div",{className:"mb-5",children:e.jsx("form",{className:"max-w-lg mx-auto",children:e.jsxs("div",{className:"flex",children:[e.jsxs("select",{id:"type",name:"type",onChange:a,className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",children:[e.jsx("option",{value:"name",children:"Name"}),e.jsx("option",{value:"number",children:"Number"})]}),e.jsxs("div",{className:"relative w-full",children:[e.jsx("input",{type:"search",id:"aad",name:"key",onChange:a,className:"p-2.5 w-full z-20 text-sm text-gray-900 bg-gray-50 rounded-e-lg border-s-gray-50 border-s-2 border border-gray-300 focus:ring-white focus:border-blue-500 dark:bg-gray-700 dark:border-s-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:border-blue-500",required:!0}),e.jsxs("button",{onClick:a,className:"absolute top-0 end-0 p-2.5 text-sm font-medium h-full text-white bg-blue-700 rounded-e-lg border border-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800",children:[e.jsx("svg",{className:"w-4 h-4","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 20",children:e.jsx("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m19 19-4-4m0-7A7 7 0 1 1 1 8a7 7 0 0 1 14 0Z"})}),e.jsx("span",{className:"sr-only",children:"Search"})]})]})]})})}),e.jsx("div",{className:"flex justify-center",children:r.length===0?e.jsx("div",{className:"text-center text-2xl p-8 text-gray-100",children:"No Results Found"}):e.jsx(v,{results:r})})]})}function v(r){o.useEffect(()=>{t(!0)},[r.results]);const[s,t]=o.useState(!0),[l,a]=o.useState({});return s?e.jsx(j,{results:r.results,value:a,flag:t}):e.jsx(y,{value:l})}function y(r){const s=g(h),t=b();function l(){const a={id:r.value._id,name:r.value.name,amount:document.getElementById("ggu").value};s(a),t("/payment")}return e.jsxs("div",{className:"sm:w-1/3 flex flex-col justify-center items-center bg-white p-5 shadow-md",children:[e.jsxs("div",{className:"flex flex-col justify-center items-center",children:[e.jsxs("div",{className:"text-2xl",children:["Send money to ",r.value.name]}),e.jsxs("div",{className:"flex text-slate-400",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",className:"size-7 text-black",children:e.jsx("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2.25 6.75c0 8.284 6.716 15 15 15h2.25a2.25 2.25 0 0 0 2.25-2.25v-1.372c0-.516-.351-.966-.852-1.091l-4.423-1.106c-.44-.11-.902.055-1.173.417l-.97 1.293c-.282.376-.769.542-1.21.38a12.035 12.035 0 0 1-7.143-7.143c-.162-.441.004-.928.38-1.21l1.293-.97c.363-.271.527-.734.417-1.173L6.963 3.102a1.125 1.125 0 0 0-1.091-.852H4.5A2.25 2.25 0 0 0 2.25 4.5v2.25Z"})}),e.jsx("div",{className:"ml-2",children:r.value.number})]})]}),e.jsxs("div",{className:"text-2xl flex",children:["Amount:",e.jsxs("div",{className:"mb-6",children:[e.jsx("input",{type:"text",id:"ggu",className:"ml-2 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"}),e.jsx("button",{onClick:l,type:"button",className:"mt-4 text-white bg-gradient-to-r from-cyan-400 via-cyan-500 to-cyan-600 hover:bg-gradient-to-br focus:ring-4 focus:outline-none focus:ring-cyan-300 dark:focus:ring-cyan-800 font-medium rounded-lg text-sm px-5 py-2.5 text-center me-2 mb-2",children:"Send Money"})]})]})]})}function j(r){function s(t){r.value(t),r.flag(!1)}return e.jsx("div",{className:"text-2xl bg-white sm:w-2/3 rounded-md p-5 shadow-md",children:r.results.map(t=>e.jsxs("div",{className:"grid grid-cols-2 rounded-md border-b-2  hover:bg-blue-400 border-blue-300 group/item",children:[e.jsxs("div",{className:"flex flex-col m-5 group/item ",children:[e.jsx("div",{children:t.name}),e.jsxs("div",{className:"flex text-slate-400 group-hover/item:text-white hover:text-white",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",className:"sm:size-8 size-5 text-black",children:e.jsx("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2.25 6.75c0 8.284 6.716 15 15 15h2.25a2.25 2.25 0 0 0 2.25-2.25v-1.372c0-.516-.351-.966-.852-1.091l-4.423-1.106c-.44-.11-.902.055-1.173.417l-.97 1.293c-.282.376-.769.542-1.21.38a12.035 12.035 0 0 1-7.143-7.143c-.162-.441.004-.928.38-1.21l1.293-.97c.363-.271.527-.734.417-1.173L6.963 3.102a1.125 1.125 0 0 0-1.091-.852H4.5A2.25 2.25 0 0 0 2.25 4.5v2.25Z"})}),e.jsx("div",{className:"ml-2 text-base sm:text-xl",children:t.number})]})]}),e.jsx("div",{className:"flex justify-center items-center",children:e.jsx("button",{onClick:()=>s(t),type:"button",className:"w-fit h-fit text-white bg-gradient-to-br from-purple-600 to-blue-500 hover:bg-gradient-to-bl focus:ring-4 focus:outline-none focus:ring-blue-300 dark:focus:ring-blue-800 font-medium rounded-lg text-sm px-5 py-2.5 text-center me-2 mb-2",children:"Send Money"})})]}))})}export{w as default};
