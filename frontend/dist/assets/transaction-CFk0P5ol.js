import{r as i,R as d,c as m,a as l,j as e}from"./index-C2qyRJXm.js";import{a as u}from"./axios-B4uVmeYG.js";import{m as o}from"./index-D-oV7jEn.js";function j(){const[t,r]=i.useState([]),n=d(m),s=d(l),c=()=>{if(t.length===0){const x=sessionStorage.getItem("token");u.post(n+"/transaction/get",{_id:s._id},{headers:{Authorization:x}}).then(a=>{r(a.data.resp)}).catch(a=>{console.log(a.response.data.error)})}};return i.useEffect(c,[]),e.jsxs("div",{className:"bg-sky-700 min-h-screen w-full overflow-auto",children:[e.jsx("h1",{className:"font-semibold text-4xl p-5 pl-10 text-white",children:"Transaction History"}),e.jsx("div",{className:"flex justify-center w-full",children:t.length===0?e.jsx("div",{className:"text-center text-2xl",children:"No Transactions Yet"}):e.jsx(h,{transc:t})})]})}function h(t){const r=d(l);function n(s){return o(s).tz(o.tz.guess()).format("YYYY-MM-DD hh:mm:ss A (z)")}return e.jsxs("div",{className:"bg-white w-full m-2 sm:m-10 rounded-md shadow-md sm:p-5",children:[e.jsxs("div",{className:"hidden sm:grid grid-cols-4 gap-4 text-2xl font-semibold border-b-2 border-gray-300",children:[e.jsx("div",{className:"w-fit",children:"Transaction ID"}),e.jsx("div",{children:"Sender & Receiver"}),e.jsx("div",{children:"Amount"}),e.jsx("div",{children:"Date & Time"})]}),t.transc.map(s=>e.jsxs("div",{className:"sm:grid grid-cols-4 gap-4 rounded-sm hover:bg-slate-100 p-5 border-b-2 border-gray-300 w-full",children:[e.jsxs("div",{className:"w-fit bg-blue-100 text-blue-800 text-2xl font-medium me-2 px-2.5 py-0.5 rounded-full dark:bg-blue-900 dark:text-blue-300",children:[e.jsx("span",{className:"relative sm:hidden",children:"TxID:"}),s.id]}),e.jsxs("div",{className:"flex text-xl",children:[s.sender===r._id?"You":s.senderName,e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",className:"size-7 ml-2 mr-2",children:e.jsx("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3"})}),s.receiver===r._id?"You":s.receiverName]}),e.jsxs("div",{className:(s.sender===r._id?"text-red-700":"text-green-700")+" text-xl",children:[s.sender===r._id?"-":"+"," â‚¹ ",s.amount]}),e.jsxs("div",{className:"text-xl font-medium",children:[e.jsx("div",{className:"block sm:hidden",children:"Date & Time-"}),n(s.date)]})]}))]})}export{j as default};
